<div>
  <h2>Consultar Solicitudes</h2>
  <p><em>Los estados muestran el avance de la validaci贸n realizada por asistentes IA en cada dimensi贸n.</em></p>
  <form (submit)="searchSolicitudes()" style="display: flex; gap: 10px; flex-wrap: wrap;">
    <input type="text" [(ngModel)]="searchProveedor" placeholder="Proveedor" style="flex:1;">
    <input type="text" [(ngModel)]="searchNIT" placeholder="NIT" style="flex:1;">
    <input type="date" [(ngModel)]="searchFecha" style="flex:1;">
    <button type="submit" class="btn">Buscar</button>
  </form>

  <table *ngIf="solicitudes.length > 0">
    <thead>
      <tr>
        <th>ID</th>
        <th>C贸digo Proyecto</th>
        <th>Proveedor</th>
        <th>NIT</th>
        <th>Fecha</th>
        <th>Estado</th>
        <th>Dimensiones</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let solicitud of solicitudesFiltradas">
        <td>{{ solicitud.SolicitudID }}</td>
        <td>{{ solicitud.CodigoProyecto }}</td>
        <td>{{ solicitud.ProveedorNombre }}</td>
        <td>{{ solicitud.ProveedorNIT }}</td>
        <td>{{ solicitud.FechaCreacion | date:'short' }}</td>
        <td>{{ solicitud.EstadoGeneral }}</td>
        <td>
          <div class="dimension-status">
            <span class="status" [ngClass]="{'pending': solicitud.Estado.economica === 'pending', 'done': solicitud.Estado.economica === 'done'}">Econ贸mica</span>
            <span class="status" [ngClass]="{'pending': solicitud.Estado.social === 'pending', 'done': solicitud.Estado.social === 'done'}">Social</span>
            <span class="status" [ngClass]="{'pending': solicitud.Estado.ambiental === 'pending', 'done': solicitud.Estado.ambiental === 'done'}">Ambiental</span>
          </div>
        </td>
        <td class="status" [ngClass]="solicitud.EstadoGeneral">{{ solicitud.EstadoGeneral }}</td>
        <td>
          <a (click)="verInforme(solicitud.SolicitudID)" class="btn">Ver Informe</a>
          <button (click)="eliminarSolicitud(solicitud.SolicitudID)" class="btn btn-danger" style="margin-left:8px;">Eliminar</button>
        </td>
      </tr>
    </tbody>
  </table>
  <p *ngIf="solicitudes.length === 0">No se encontraron solicitudes.</p>
</div>